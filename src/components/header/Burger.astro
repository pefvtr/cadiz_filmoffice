---
interface Props {
  classNames?: string;
}

const { classNames = "" } = Astro.props;
---

<div class:list={["burger-icon", classNames]}>
  <span></span>
  <span></span>
  <span></span>
  <span></span>
  <span></span>
  <span></span>
</div>

<style>
  .burger-icon {
    width: 35px;
    height: 30px; /* Más alto para acomodar 3px de grosor y separación */
    position: relative;
    cursor: pointer;
    & span {
      display: block;
      position: absolute;
      height: 3px; /* Grosor de 3px */
      width: 50%;
      background: var(--color-primary);
      opacity: 1;
      -webkit-transform: rotate(0deg);
      -moz-transform: rotate(0deg);
      -o-transform: rotate(0deg);
      transform: rotate(0deg);
      -webkit-transition: 0.25s ease-in-out;
      -moz-transition: 0.25s ease-in-out;
      -o-transition: 0.25s ease-in-out;
      transition: 0.25s ease-in-out;
      border-radius: 1.5px;
    }
    &:hover span {
      background: var(--color-primary-dark);
    }
  }

  .burger-icon span:nth-child(even) {
    left: 50%;
    border-radius: 0 3px 3px 0;
  }

  .burger-icon span:nth-child(odd) {
    left: 0px;
    border-radius: 3px 0 0 3px;
  }

  /* SEPARACIÓN EQUIDISTANTE - 6px entre cada par de barras */
  .burger-icon span:nth-child(1),
  .burger-icon span:nth-child(2) {
    top: 6px; /* Empezamos a 6px del borde superior */
  }

  .burger-icon span:nth-child(3),
  .burger-icon span:nth-child(4) {
    top: 15px; /* 6px + 3px (grosor) + 6px (separación) = 15px */
  }

  .burger-icon span:nth-child(5),
  .burger-icon span:nth-child(6) {
    top: 24px; /* 15px + 3px (grosor) + 6px (separación) = 24px */
  }

  /* TRANSFORMACIÓN PARA FORMAR UNA SOLA X */
  .burger-icon.open span:nth-child(1) {
    top: 15px; /* Centro exacto de la barra del medio */
    left: 0px;
    width: 100%;
    transform: rotate(45deg);
  }

  .burger-icon.open span:nth-child(2) {
    top: 15px;
    left: 0px;
    width: 100%;
    transform: rotate(-45deg);
  }

  /* Barras del medio desaparecen hacia los lados */
  .burger-icon.open span:nth-child(3) {
    left: -50%;
    opacity: 0;
  }

  .burger-icon.open span:nth-child(4) {
    left: 100%;
    opacity: 0;
  }

  /* Barras inferiores desaparecen */
  .burger-icon.open span:nth-child(5),
  .burger-icon.open span:nth-child(6) {
    opacity: 0;
    width: 0%;
  }
</style>

<script>
  document.addEventListener("astro:page-load", () => {
    const burgerIcon = document.querySelector(".burger-icon") as HTMLDivElement;

    burgerIcon.addEventListener("click", (e) => {
      const target = e.currentTarget as HTMLDivElement;
      target.classList.toggle("open");
    });
  });
</script>
